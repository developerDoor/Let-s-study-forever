# Computer System Overview

## 프로세서
프로세서는 컴퓨터의 두뇌(중앙처리장치)   
**연산을 수행**하며 컴퓨터의 **모든 장치의 동작을 제어**


### 레지스터(Register)
프로세서 내부에 존재하는 메모리.  
프로세서가 사용할 데이터를 저장하는 공간이며 컴퓨터에서 가장 빠른 메모리

### 레지스터의 종류
- 용도에 따른 분류
  - 전용 레지스터
  - 범용 레지스터

- 사용자가 정보 변경 가능 여부에 따른 분료류
  - 사용자 가시 레지스터
  - 사용자 불가시 레지스터(일반적으로 전용 레지스터들이다.)
    
- 저장하는 정보의 종류에 따른 분류
  - 데이터 레지스터
  - 주소 레지스터
  - 상태 레지스터

### 프로세서의 동작
![프로세서의 동작](image/프로세서의%20동작.png)
- ALU는 PC, MAR, IR, MBR, ACC, DR 등과 같은 다양한 레지스터들을 통해서 연산한다.

### 운영체제와 프로세서
운영체제는 프로세서를 관리합니다.
- 프로세서에게 처리할 작업 할당 및 관리
    - 프로세스(process) 생성 및 관리
- 프로그램의 프로세서 사용 제어
    - 프로그램의 프로세서 사용 시간 관리
    - 복수 프로그램간 사용 시간 조율 등
---
## 메모리(Memory)
- 데이터를 저장하는 장치
    - 프로그램(OS, 사용자 SW 등), 사용자 데이터 등

### 메모리의 종류
- 주기억장치(Main Memory)
  - 프로세서가 수행할 프로그램과 데이터 저장
    - 프로세서는 DRAM 까지밖에 접근하지 못한다.
  - DRAM을 주로 사용
    - 용량이 크고, 가격이 저렴
  - **디스크 입출력 병목현상(I/O bottleneck) 해소**
      - CPU 속도는 엄청 빨리 발전했지만 디스크 속도는 그만큼 발전하지 못했다. 그래서 메모리가 그 간극을 채워준다.  


- 캐시(Cache)
  - 프로세서 내부에 있는 메모리(L1, L2 캐시 등)
      - 속도가 빠르고, 가격이 비싸다.
  - **메인 메모리의 입출력 병목현상 해소**
  - 캐시의 동작
    - 일반적으로 HW적으로 관리된다.
    - 캐시 히트(Cache Hit)
        - 필요한 데이터 블록이 캐시 존재
        - 메인 메모리까지 갈 필요가 없다.
    - 캐시 미스 (Cache miss)
        - 필요한 데이터 블록이 없는 경우
    - 지역성(Locality)
        - 공간적 지역성(spatial locality)
            - 참조한 주소와 인접한 주소를 참조하는 특성(접근한 메모리 주소 근처의 메모리 공간을 참조할 가능성이 높다.)
            - 캐시는 메인 메모리에서 데이터를 퍼올때 딱 해당되는 데이터만 가져오는게 아니라 특정량(cache line, block)만큼 퍼서 가져온다.
              - 예) 순차적 프로그램 수행
        - 시간적 지역성(Temporal locality)
            - 한 번 참조한 주소를 곧 다시 참조하는특성
              - 예) For 문 등의 순환문
        - **지역성은 캐시 적중률(cache hit ratio)과 밀접**
            - 알고리즘 성능 향상을 위한 중요한 요소 중 하나
            - 지역성 때문에 캐시가 적중할 확률이 높다!!  


- 보조기억장치(Auxiliary memory / secondary memory / storage)
    - 프로그램과 데이터를 저장한다.
    - 프로세서가 직접 접근할 수 없음(주변장치)
        - 주기억장치를 거쳐서 접근한다.
        - (프로그램/데이터 > 주기억장치) 인 경우는?
            - 가상 메모리(virtual memory)
                - 하드디스크의 일부를 메모리처럼 사용하는 것
    - 용량이 크고, 가격이 저렴하다.

### 메모리와 운영체제
- 메모리 할당 및 관리
    - 프로그램의 요청에 따른 메모리 할당 및 회수
    - 할당된 메모리 관리    


- 가상 메모리 관리
    - 가상 메모리 생성 및 관리
    - 논리주소 → 물리주소 변환

## 시스템 버스(System Bus)
하드웨어들이 데이터 및 신호를 주고 받는 물리적인 통로  

![시스템 버스](image/시스템%20버스.png)
- 데이터 버스
- 주소 버스
- 제어 버스

---
## 주변장치 
프로세서와 메모리를 제외한 하드웨어들이다.(키보드, 마우스, 스피커 등)
- 주변장치와 운영체제
    - 장치 드라이버 관리
        - 주변 장치 사용을 위한 인터페이스 제공
    - 인터럽트(interrupt) 처리
        - 주변 장치의 요청 처리

    - 파일 및 디스크 관리
        - 파일 생성 및 삭제
        - 디스크 공간 관리 등

---
